<html>
  <head>
  </head>
  <body onload="init()">
    <h1>Embed Files in Arduino Source Code</h1>
    <h2>1. Select file</h2>
    <div>All processing is done locally in your browser; your images are not uploaded or stored anywhere online.</div>
    <input type="file" id="file-input" name="file-input" multiple /><br/>
    <div><button onclick="handleTextInput('horizontal')">Convert</button></div>
    <h2>2. Copy the cpp copde to your Arduino sketch</h2>
    <input type="textarea" id="cpp-output" name="cpp-output" rows="4" cols="50" /><br/>
  </body>
  <script>
    function init() {
      document.getElementById('file-input').addEventListener('change', handleFileSelect, false);
    }
    
    function handleFileSelect(event) {
      const reader = new FileReader()
      reader.onload = handleFileLoad;
      reader.readAsText(event.target.files[0])
    }
    
    function handleFileLoad(event) {
      console.log(event);
      document.getElementById('cpp-output').value = rawToHex(event.target.result);
    }

    function rawToHex(content) {
      var output = "";
      for (const c in a) {
        //const c = a.charCodeAt(i);
        var d = "00"+c.toString(16);
        var e = d.substr(d.length-2);
        output += '0x' + e + ',';
      }
      return output;
  </script>
</html>
